#!/bin/bash
#
############ Cbench moab_header.in ######################
# Directives for LSF
# NOTE: LSF may require that these directives be first...
#
#BSUB -n nodes=BSUB_NODESPEC_HERE
#BSUB -l walltime=WALLTIME_HERE
#
# other attributes you might use but are hidded from LSF processing
#HIDE -q somequeue

# include the common Cbench functions used in job scripts
. BENCH_TEST_HERE/cbench_functions

# this tells us what type of cbench job this is
CBENCH_RUN_TYPE=RUN_TYPE_HERE

# grab the BSUB_NODEFILE nodelist
NODELIST=`cat $BSUB_NODEFILE | uniq | xargs`

# this tells us details of the Cbench job in the job output
cbench_echo "Cbench numprocs: NUM_PROCS_HERE"
cbench_echo "Cbench numnodes: NUM_NODES_HERE"
cbench_echo "Cbench ppn: NUM_PPN_HERE"
cbench_echo "Cbench benchmark: BENCHMARK_NAME_HERE"
cbench_echo "Cbench jobname: JOBNAME_HERE"
cbench_echo "Cbench testset: TESTSET_NAME_HERE"
cbench_echo "Cbench joblaunchmethod: JOBLAUNCHMETHOD_HERE"
cbench_echo "Cbench moab nodelist: $NODELIST"
cbench_echo ""

# grap the LSF jobid
JOBID=`echo $BSUB_JOBID | cut -f1 -d'.'`

